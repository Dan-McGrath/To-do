(()=>{"use strict";const t=document.querySelector("#content"),e=()=>{const e=document.createElement("h1");e.textContent="Just Do It!",t.appendChild(e)},n=[],o=t=>{const e={title:"",description:"",toDo:[]};t.preventDefault();let o=document.querySelector("#name"),d=document.querySelector("#description"),a=document.querySelector("#content"),c=document.querySelector(".create-project");if(""===o.value||""===d.value)alert("Please fill out missing info");else{for(e.title=o.value,e.description=d.value,n.push(e),a.removeChild(a.lastChild),o.value="",o.textContent="",d.value="",d.textContent="",c.dataset.active="false";a.childNodes.length>1;)a.removeChild(a.lastChild);i()}},d=t=>{const e=document.querySelectorAll(".todo-btn"),n=t.target.parentNode;if("true"===t.target.dataset.active)e.forEach((t=>t.dataset.active="false")),document.querySelectorAll(".todo-form").forEach((t=>t.remove(t)));else if(n.dataset.index===t.target.dataset.index){t.target.dataset.active="true",n.appendChild((()=>{const t=document.createElement("div");t.dataset.active="false",t.classList.add("todo-form");const e=document.createElement("form");e.setAttribute("action","#"),e.setAttribute("class","add-todo-form"),e.setAttribute("id","todo-form"),t.appendChild(e);const n=document.createElement("input");n.setAttribute("id","todo"),n.setAttribute("name","todo"),n.setAttribute("type","text"),n.classList.add("todo-input");const o=document.createElement("label");o.setAttribute("for","todo"),o.textContent="To-Do:";const d=document.createElement("button");return d.setAttribute("class","submit"),d.textContent="Submit To-Do",e.appendChild(o),e.appendChild(n),e.appendChild(d),t})());const e=n.dataset.index;document.querySelector(".add-todo-form").dataset.index=e,document.querySelectorAll(".submit").forEach((t=>t.addEventListener("click",a)))}},a=t=>{t.preventDefault();const e={name:""};let o=t.target.form[0].value,d=t.target.parentNode.dataset.index;if(""===o)alert("Please fill out info");else if(t.target.parentNode.dataset.index===d){e.name=o,n[Number(d)].toDo.push(e),document.querySelectorAll(".todo").forEach((t=>{t.textContent="",t.value=""}));const t=document.querySelector("#content");for(;t.childNodes.length>1;)t.removeChild(t.lastChild);i()}},c=document.querySelector("#content"),r=t=>{const e=document.createElement("div");e.classList.add("project-"+t),e.dataset.index=t;const o=n[t].title,d=n[t].description,a=document.createElement("h3"),c=document.createElement("p");a.textContent=o,c.textContent=d;const r=document.createElement("button");r.textContent="Add To-Do",r.dataset.index=t,r.dataset.active="false",r.classList.add("todo-btn"),e.appendChild(a),e.appendChild(c);for(let o=0;o<n[t].toDo.length;o++){const d=document.createElement("div"),a=document.createElement("p"),c=document.createElement("div");d.classList.add("to-do-"+o);const r=n[t].toDo[o].name,l=n[t].toDo[o].priority;a.textContent=r,c.textContent=l,e.appendChild(d),d.appendChild(a),d.appendChild(c)}return e.appendChild(r),e},l=()=>{const t=document.createElement("div"),e=document.createElement("form");t.classList.add("project-form"),t.dataset.active="false",e.setAttribute("action","#"),e.classList.add("add-project-form"),e.setAttribute("id","project-form"),c.appendChild(t),t.appendChild(e);const n=document.createElement("input"),d=document.createElement("label");n.setAttribute("id","name"),n.setAttribute("type","text"),n.setAttribute("name","title"),d.setAttribute("for","title"),d.textContent="Project Name:",e.appendChild(d),e.appendChild(n);const a=document.createElement("textarea"),r=document.createElement("label");a.setAttribute("id","description"),a.setAttribute("rows","4"),a.setAttribute("col","50"),a.setAttribute("name","description"),r.setAttribute("for","description"),r.textContent="Project Description:",e.appendChild(r),e.appendChild(a);const l=document.createElement("button");return l.textContent="Submit",l.setAttribute("class","submit"),e.appendChild(l),l.addEventListener("click",o),t},i=()=>{const t=document.createElement("h1");t.textContent="Projects",c.appendChild(t);const e=document.createElement("div");if(e.classList.add("projects"),c.appendChild(e),n.length>0)for(let t=0;t<n.length;t++)e.appendChild(r(t));document.querySelectorAll(".todo-btn").forEach((t=>t.addEventListener("click",d))),c.appendChild((()=>{const t=document.createElement("button");return t.textContent="Create Project",t.dataset.active="false",t.classList.add("create-project"),t.addEventListener("click",(t=>{"false"===t.target.dataset.active?(t.target.dataset.active="true",l()):(t.target.dataset.active="false",c.removeChild(c.lastChild))})),t})())},s=document.querySelector("#content"),u=document.querySelector("#content");(()=>{const t=document.createElement("header"),n=document.createElement("nav"),o=document.createElement("ul"),d=document.createElement("li");d.textContent="Home",d.setAttribute("id","home"),d.classList.add("nav-link");const a=document.createElement("li");a.textContent="Projects",a.setAttribute("id","projects"),a.classList.add("nav-link"),u.appendChild(t),t.appendChild(n),n.appendChild(o),o.appendChild(d),o.appendChild(a),(()=>{const t=document.querySelectorAll(".nav-link"),n=()=>{for(;s.childNodes.length>1;)s.removeChild(s.lastChild)},o=t=>{"home"===t.target.id?(n(),e()):"projects"===t.target.id&&(n(),i())};t.forEach((t=>t.addEventListener("click",o)))})()})(),e()})();